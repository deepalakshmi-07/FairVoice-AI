<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Official Dashboard - Approved petitions</title>
    <link rel="stylesheet" href="approv.css" />
  </head>
  <body>
    <!-- Header -->
    <header class="header">
      <button class="toggle-btn" onclick="toggleSidebar()">‚ò∞</button>
      <div class="logo">FairVoice</div>
      <button class="logout-btn" onclick="logout()">Logout</button>
    </header>

    <div class="container">
      <!-- Sidebar -->
      <aside class="sidebar" id="sidebar">
        <nav>
          <ul>
            <li><a href="lowpetition.html"><span class="icon">üìã</span><span class="label">All </span></a></li>
            <li><a href="urgent.html"><span class="icon">üö®</span><span class="label">Urgent</span></a></li>
            <li><a href="repeat.html"><span class="icon">üîÅ</span><span class="label">Repetitive</span></a></li>
            <li><a href="approv.html"><span class="icon">‚úÖ</span><span class="label">Approved</span></a></li>
            <li><a href="complete.html"><span class="icon">‚úîÔ∏è</span><span class="label">Completed</span></a></li>
          </ul>
        </nav>
      </aside>
      <!-- Main Content -->
      <main class="main-content">
        <h1>Approved Petitions</h1>
        <div class="petition-grid">
          <div class="petition-box" onclick='openModal({
            title: "Drainage System Upgrade in Kodungaiyur",
            name: "Sathya Prakash",
            phone: "9056123456",
            location: "Kodungaiyur, Chennai",
            description: "Frequent drainage blockages are causing health issues and flooding. The system needs a complete upgrade.",
            documents: [
              { name: "Drainage Plan.pdf", url: "files/drainage-plan.pdf" },
              { name: "Health Reports.docx", url: "files/health-reports.docx" }
            ]
          })'>
            <h3>Drainage System Upgrade in Kodungaiyur</h3>
            <p>Blocked drains are turning into a public health hazard. Time for action...</p>
          </div>
          

          <div class="petition-box" onclick='openModal({
            title: "Build a Public Toilet near Washermanpet Market",
            name: "Mohamed Iqbal",
            phone: "9876543210",
            location: "Washermanpet, Chennai",
            description: "There is an urgent need for a hygienic public toilet near the market area to support vendors and visitors.",
            documents: [
              { name: "Toilet Proposal.docx", url: "files/toilet-proposal.docx" }
            ]
          })'>
            <h3>Build a Public Toilet near Washermanpet Market</h3>
            <p>Vendors and visitors struggle due to lack of sanitation facilities...</p>
          </div>
          

          <div class="petition-box" onclick='openModal({
            title: "Resurface Inner Roads in Korukkupet",
            name: "Vignesh R.",
            phone: "9444412345",
            location: "Korukkupet, Chennai",
            description: "The inner roads have not been resurfaced in years and are now in poor condition. Requesting prompt repair.",
            documents: [
              { name: "Road Condition Report.pdf", url: "files/road-condition-report.pdf" }
            ]
          })'>
            <h3>Resurface Inner Roads in Korukkupet</h3>
            <p>Damaged surfaces are making commuting unsafe and uncomfortable for residents...</p>
          </div>
          

          <div class="petition-box" onclick='openModal({
            title: "Repair Damaged Roads in Ambattur",
            name: "Ramesh Kumar",
            phone: "9845012345",
            location: "Ambattur, Chennai",
            description: "The main roads in Ambattur are filled with potholes, causing accidents and traffic. Immediate repair is needed.",
            documents: [
              { name: "Road Damage Photos.pdf", url: "files/road-damage-photos.pdf" },
              { name: "Resident Complaints.docx", url: "files/resident-complaints.docx" }
            ]
          })'>
            <h3>Repair Damaged Roads in Ambattur</h3>
            <p>Pothole-ridden roads are a daily risk for commuters. Action is needed...</p>
          </div>
          
        </div>
      </main>
    </div>

    <!-- Modal -->
    <div id="petitionModal" class="modal">
      <div class="modal-content">
        <span class="close" onclick="closeModal()">&times;</span>
        <h2 id="modalTitle">Petition Title</h2>

        <div class="petition-details">
          <p><strong>Full Name:</strong> <span id="modalName">-</span></p>
          <p><strong>Phone Number:</strong> <span id="modalPhone">-</span></p>
          <p><strong>Location:</strong> <span id="modalLocation">-</span></p>
          <p><strong>Description:</strong></p>
          <p id="modalDescription">-</p>

          <p><strong>Uploaded Documents:</strong></p>
          <ul id="modalDocuments">
            <!-- Files will be inserted here -->
          </ul>
        </div>

        <div class="actions">
          <!-- Report Button -->
          <button class="report-btn" onclick="openReportModal()">Report</button>
          <button class="forward" onclick="openForwardModal()">Escalate</button>
        </div>
      </div>
    </div>
    <!-- Forward Modal -->
    <div id="forwardModal" class="forward-modal">
      <div class="forward-modal-content">
        <span class="close" onclick="closeForwardModal()">&times;</span>
        <h2>Forward the Petition</h2>

        <form id="forwardForm">
          <label for="department">Choose Department:</label>
          <select id="department" required>
            <option value="Education">Mid-level Official</option>
            <option value="Health">High-level Official</option>
          </select>

          <label for="reason">Reason:</label>
          <textarea
            id="reason"
            placeholder="Enter reason for forwarding..."
            required
          ></textarea>

          <label for="file">Attach File (Optional):</label>
          <input type="file" id="file" />

          <button type="submit">Submit</button>
        </form>
      </div>
    </div>
    <!-- Report Modal -->
    <div id="reportModal" class="forward-modal">
      <div class="forward-modal-content">
        <span class="close" onclick="closeReportModal()">&times;</span>
        <h2>Report Petition</h2>

        <form id="reportForm">
          <label for="reportDescription">Description:</label>
          <textarea
            id="reportDescription"
            placeholder="Describe the issue..."
            required
          ></textarea>

          <label for="reportAttachment">Attach File (Optional):</label>
          <input type="file" id="reportAttachment" />

          <label for="reportImage">Attach Photo (Optional):</label>
          <input type="file" id="reportImage" accept="image/*" />

          <div style="text-align: center; margin-top: 20px">
            <button
              type="submit"
              style="
                background-color: green;
                color: white;
                padding: 10px 20px;
                border: none;
                border-radius: 8px;
                cursor: pointer;
              "
            >
              Complete
            </button>
          </div>
        </form>
      </div>
    </div>

    <!-- Script -->
    <script src="approv.js"></script>
  </body>
</html>
